(this["webpackJsonpd3js-tutorial"]=this["webpackJsonpd3js-tutorial"]||[]).push([[0],{154:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),r=n(64),i=n.n(r),s=n(2),o=n(65),l=(n(154),n(10)),d=n(0),j=function(e){var t=e.xScale,n=e.innerWidth,c=e.innerHeight,a=e.axisOffset,r=Object(s.j)("%-m/%-d"),i=t.domain().filter((function(e){return 1===e.getUTCDay()})).map((function(e){return Object(d.jsxs)("g",{className:"axis",transform:"translate(".concat(t(e),",0)"),children:[Object(d.jsx)("line",{y2:c+a}),Object(d.jsx)("line",{className:"tick",y1:c+a,y2:c+a+6}),Object(d.jsx)("text",{style:{textAnchor:"middle"},dy:".71em",y:c+a+14,children:r(e)})]},e)}));return Object(d.jsxs)(d.Fragment,{children:[i,Object(d.jsx)("line",{className:"axis-border",y1:c+a,y2:c+a,x1:-t.bandwidth()/2,x2:n+t.bandwidth()/2})]})},x=function(e){var t=e.yScale,n=e.innerHeight,c=e.axisOffset,a=Object(s.c)("$~f"),r=t.ticks().map((function(e){return Object(d.jsxs)("g",{className:"axis",transform:"translate(0,".concat(t(e),")"),children:[Object(d.jsx)("line",{className:"tick",x1:c-6,x2:c}),Object(d.jsx)("text",{style:{textAnchor:"end"},x:c-12,dy:".32em",children:a(e)})]},e)}));return Object(d.jsxs)(d.Fragment,{children:[r,Object(d.jsx)("line",{className:"axis-border",x1:c,x2:c,y2:n})]})},h=function(e){var t=e.yScale,n=e.innerWidth,c=e.innerHeight,a=e.axisOffset,r=Object(s.c)("~s"),i=t.ticks().map((function(e){return Object(d.jsxs)("g",{className:"axis",transform:"translate(".concat(n,",").concat(t(e),")"),children:[Object(d.jsx)("line",{className:"tick",x1:a+6,x2:a}),Object(d.jsx)("text",{style:{textAnchor:"start"},x:a+12,dy:".32em",children:r(e)})]},e)}));return Object(d.jsxs)(d.Fragment,{children:[i,Object(d.jsx)("line",{className:"axis-border",x1:n+a,x2:n+a,y2:c})]})},b=function(e){var t=e.data,n=e.xScale,c=e.yScale,a=Object(s.j)("%B %-d, %Y"),r=Object(s.c)(".2f"),i=Object(s.c)(".3s");return t.map((function(e){return Object(d.jsxs)("g",{className:"candlestick-mark",transform:"translate(".concat(n(e.date),",0)"),children:[Object(d.jsx)("line",{y1:c(e.low),y2:c(e.high)}),Object(d.jsx)("line",{y1:c(e.open),y2:c(e.close),strokeWidth:n.bandwidth(),stroke:e.open>e.close?s.h[0]:e.close>e.open?s.h[2]:s.h[8],"data-tip":"<b>".concat(a(e.date),"</b><br />")+"Open: $".concat(r(e.open),"<br />")+"Close: $".concat(r(e.close),"<br />")+"Low: $".concat(r(e.low),"<br />")+"High: $".concat(r(e.high),"<br />")+"Volume: ".concat(i(e.volume)),"data-for":"mark-tooltip"})]},e.date)}))},u=function(e){var t=e.data,n=e.xScale,c=e.yScale,a=e.innerHeight;return t.map((function(e){return Object(d.jsx)("rect",{className:"volume-mark",x:n(e.date)-n.bandwidth()/2,y:c(e.volume),width:n.bandwidth(),height:a-c(e.volume)},e.volume)}))},m=20,f=80,O=40,g=80,y=function(){var e=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){Object(s.a)("https://gist.githubusercontent.com/alvin-yang68/825378ee22558f0ced78a2ca74c931a7/raw/AAPLStockHistory.csv",(function(e){return e.date=new Date(e.date),e.volume=+e.volume,e.open=+e.open,e.close=+e.close,e.high=+e.high,e.low=+e.low,e})).then(a)}),[]),n}();if(!e)return Object(d.jsx)("pre",{children:"Loading..."});var t=e.length-0,n=t-130;e=e.slice(n,t);var a=1200-g-f,r=600-m-O,i=s.f().domain(s.i.range(e[0].date,+e[e.length-1].date+1).filter((function(e){return 0!==e.getUTCDay()&&6!==e.getUTCDay()}))).range([0,a]).padding(.2),y=s.g().domain([s.e(e,(function(e){return e.low})),s.d(e,(function(e){return e.high}))]).rangeRound([r,0]).nice(),p=s.g().domain(s.b(e,(function(e){return e.volume}))).rangeRound([r,0]).nice();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("svg",{width:1200,height:600,children:Object(d.jsxs)("g",{transform:"translate(".concat(g,",").concat(m,")"),children:[Object(d.jsx)(j,{xScale:i,innerWidth:a,innerHeight:r,axisOffset:0}),Object(d.jsx)(x,{yScale:y,innerHeight:r,axisOffset:-i.bandwidth()/2}),Object(d.jsx)("text",{className:"axis-label",textAnchor:"middle",transform:"translate(".concat(-60,",").concat(r/2,") rotate(-90)"),children:"Price"}),Object(d.jsx)(h,{yScale:p,innerWidth:a,innerHeight:r,axisOffset:i.bandwidth()/2}),Object(d.jsx)("text",{className:"axis-label",textAnchor:"middle",transform:"translate(".concat(a+60,",").concat(r/2,") rotate(90)"),children:"Volume"}),Object(d.jsx)(u,{data:e,xScale:i,yScale:p,innerHeight:r}),Object(d.jsx)(b,{data:e,xScale:i,yScale:y})]})}),Object(d.jsx)(o.a,{id:"mark-tooltip",place:"right",effect:"solid",html:!0})]})};var p=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(y,{})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root")),v()}},[[156,1,2]]]);
//# sourceMappingURL=main.503cd640.chunk.js.map